LinkedIn Lead Import - How It Works
====================================

OVERVIEW
--------
This system pulls followers from a LinkedIn profile using PhantomBuster,
then automatically creates leads and contacts in Odoo.


STEP 1: PhantomBuster Scrapes LinkedIn
---------------------------------------
- PhantomBuster logs into LinkedIn using your client's account
- It collects every follower's name, profile link, job title, and company
- The results are saved as a JSON file in the cloud (Amazon S3)
- Can be run manually or on a schedule


STEP 2: Run the Sync Script
----------------------------
- Location: linkedin_lead_webhook/scripts/phantombuster_sync.py
- The script calls PhantomBuster's API using your API key
- PhantomBuster returns a link to the JSON results file
- The script downloads that file (e.g., 8,166 follower records)

To run:
    python3 scripts/phantombuster_sync.py


STEP 3: Script Sends Records to Odoo
--------------------------------------
- The script breaks records into batches of 100
- Each batch is sent to the Odoo webhook endpoint: /linkedin/webhook
- The API key in the request header authenticates it
- The Odoo database name is included so Odoo knows which database to use


STEP 4: Odoo Processes Each Record
------------------------------------
- Maps PhantomBuster fields to Odoo fields:
    fullName    ->  Contact Name
    profileLink ->  LinkedIn URL
    occupation  ->  Job Title / Headline
    company     ->  Company Name
- Checks if a contact already exists (by LinkedIn URL or email)
    - If it exists: skips it (no duplicates)
    - If it's new: creates a Contact (res.partner) and a Lead (crm.lead)
- Each lead is tagged with "LinkedIn" as the source


STEP 5: Enrichment
--------------------
- After a lead is created, Odoo's built-in lead enrichment auto-triggers
- It fills in additional details: email, phone, company info, etc.
- Leads are now ready for the sales team to work


CONFIGURATION
--------------
PhantomBuster:
- API Key: Set in the sync script (line 19)
- Phantom ID: Set in the sync script (line 20)

Odoo:
- Webhook API Key: Settings > CRM > LinkedIn Webhook
- The sync script must use the same API key

Files:
- Webhook controller:  controllers/main.py
- Sync script:         scripts/phantombuster_sync.py
- Import log view:     views/linkedin_import_log_views.xml
- Settings view:       views/res_config_settings_views.xml
